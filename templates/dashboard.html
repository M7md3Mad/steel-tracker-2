{% extends 'base.html' %}

{% block content %}
    <h2>Dashboard</h2>
    <form method="get" action="{{ url_for('dashboard') }}">
        <input type="text" name="search_name" placeholder="Search by Name">
        <input type="date" name="from_dispatch_date" placeholder="From Dispatch Date">
        <input type="date" name="to_dispatch_date" placeholder="To Dispatch Date">
        <!-- Add similar fields for delivery and installation dates -->
        <button type="submit">Search</button>
    </form>
    
    {% if current_user.role in ['Admin', 'Editor'] %}
    <a href="{{ url_for('add_member') }}" class="btn btn-primary mb-3">Add Steel Member</a>
    {% endif %}
    <form method="post" action="{{ url_for('bulk_edit') }}">
     <table class="table">
        <thead>
            <tr>
                <th>Select</th>
                <th>Name</th>
                <th>Dispatch Date</th>
                <th>Delivery Date</th>
                <th>Installation Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for member in members %}
            <tr>
                <td><input type="checkbox" name="member_ids" value="{{ member.id }}"></td>
                <td>{{ member.name }}</td>
                <td>{{ member.dispatch_date }}</td>
                <td>{{ member.delivery_date }}</td>
                <td>{{ member.installation_date }}</td>
                <td>
                    {% if current_user.role in ['Admin', 'Editor'] %}
                    <a href="{{ url_for('edit_member', id=member.id) }}" class="btn btn-info btn-sm">Edit</a>
                    {% endif %}                  
                </td>
            </tr>
            {% endfor %}
        </tbody>
     </table>
     <input type="submit" value="Edit Selected">
    </form>
{% endblock %}
